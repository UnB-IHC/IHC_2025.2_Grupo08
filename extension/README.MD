# Verificador de Acessibilidade (WCAG 2.2)

Esta extens√£o de navegador, desenvolvida pelo grupo 8 da disciplina Intera√ß√£o Humano-Computador, semestre 2025/2, tem o principal objetivo de auxiliar programadores, designers e especialistas em QA a diagnosticar barreiras de acessibilidade em p√°ginas web. A ferramenta combina uma verifica√ß√£o automatizada baseada em regras (utilizando a engine axe-core) com checklists manuais baseadas nas diretrizes WCAG 2.2.

## üõ† T√©cnicas de Scripting e An√°lise de DOM

A extens√£o utiliza a API de *Content Scripts* do Manifesto V3 para injetar c√≥digo diretamente no contexto da p√°gina visitada. Abaixo descrevem-se as principais t√©cnicas utilizadas para o diagn√≥stico e renderiza√ß√£o dos resultados:

### 1. An√°lise Automatizada (Engine Axe-core)
O n√∫cleo do diagn√≥stico reside no ficheiro content.js. A extens√£o injeta a biblioteca axe.min.js na p√°gina alvo.
* *Execu√ß√£o:* Atrav√©s da fun√ß√£o window.axe.run(), o script percorre a √°rvore DOM (Document Object Model) da p√°gina ativa.
* *Escopo:* A an√°lise verifica elementos HTML, atributos ARIA, contrastes de cor e estrutura sem√¢ntica contra regras pr√©-definidas (configuradas em axe.config.js e traduzidas pelo ficheiro pt_BR.js).

### 2. Mapeamento e Filtragem de Categorias
Ap√≥s a varredura bruta, o script aplica uma l√≥gica de p√≥s-processamento:
* *Agrupamento:* Um objeto categoryRuleMap (definido em content.js) mapeia regras t√©cnicas (ex: image-alt, label) para categorias amig√°veis ao utilizador (ex: "Imagens", "Formul√°rios").
* *Filtragem Din√¢mica:* O popup.js envia o filtro selecionado pelo utilizador. O content.js itera sobre as viola√ß√µes retornadas pelo Axe e devolve apenas aquelas que correspondem √† categoria selecionada na interface da extens√£o.

### 3. Manipula√ß√£o do DOM para Feedback Visual
Para indicar a localiza√ß√£o dos erros, o script manipula o DOM da p√°gina em tempo real:
* *Highlighter (Bordas):* O script identifica o n√≥ HTML respons√°vel pela viola√ß√£o (violation.nodes[0].target) e aplica estilos CSS diretamente (element.style.outline, element.classList.add("a11y-highlight")) para criar uma borda vermelha vis√≠vel.
* *Inje√ß√£o de Tooltips:*
    * O script cria dinamicamente elementos <div> e √≠cones (<i>) usando document.createElement.
    * *Posicionamento:* Utiliza eventos do rato (mouseover/mouseleave) para calcular coordenadas (event.clientX/Y) e posicionar uma caixa flutuante (tooltip) pr√≥xima ao elemento com erro, contendo a descri√ß√£o do problema e sugest√£o de corre√ß√£o.

### 4. Mensageria Ass√≠ncrona (Runtime Messaging)
A comunica√ß√£o entre a interface da extens√£o (popup.js) e o script da p√°gina (content.js) ocorre via chrome.runtime.sendMessage e chrome.runtime.onMessage. Isto permite que o clique no bot√£o "Rodar verifica√ß√£o" na janela da extens√£o dispare a fun√ß√£o complexa de an√°lise dentro da aba do navegador.

---

## üöÄ Como Instalar e Executar

Como esta extens√£o ainda n√£o se encontra na Chrome Web Store, deve ser carregada em *modo de programador* (Developer Mode).

### Pr√©-requisitos
* Navegador baseado em Chromium (Google Chrome, Microsoft Edge, Brave, etc.).
* Todos os ficheiros do projeto descarregados numa √∫nica pasta local.
* *Nota Importante:* Certifique-se de que a pasta content/ cont√©m os ficheiros axe.min.js, axe.config.js e translator.js, conforme referenciado no manifest.json.

### Passo a Passo

1.  *Aceda ao Gestor de Extens√µes:*
    * No Chrome, digite na barra de endere√ßos: chrome://extensions
    * No Edge, digite: edge://extensions

2.  *Ative o Modo de Programador:*
    * No canto superior direito da p√°gina de extens√µes, ative o interruptor *"Modo de programador"* (ou Developer mode).

3.  *Carregue a Extens√£o:*
    * Clique no bot√£o *"Carregar n√£o compactada"* (ou Load unpacked) que surgiu no canto superior esquerdo.
    * Na janela de sele√ß√£o de ficheiros, navegue at√© √† pasta onde guardou o projeto e selecione a *pasta raiz* (selecione a pasta, n√£o um ficheiro espec√≠fico).

4.  *Fixar a Extens√£o (Opcional):*
    * Clique no √≠cone de "puzzle" na barra de ferramentas do navegador.
    * Encontre o "Verificador de acessibilidade" e clique no √≠cone de "alfinete" para mant√™-lo sempre vis√≠vel.

### Como Utilizar

1.  Navegue at√© ao s√≠tio web que deseja analisar.
2.  Clique no √≠cone da extens√£o na barra de ferramentas.
3.  (Opcional) Selecione uma categoria no filtro (ex: "Imagens" ou "Todos").
4.  Clique em *"Rodar verifica√ß√£o"*.
    * Os erros ser√£o listados no popup e destacados com bordas vermelhas na p√°gina.
5.  Passe o rato sobre os √≠cones de alerta ‚ö†Ô∏è criados na p√°gina para ver detalhes t√©cnicos do erro.
6.  Para remover as marca√ß√µes visuais, clique em *"Limpar marca√ß√µes"*.

---

## üìÅ Estrutura de Ficheiros Principal

* manifest.json: Configura√ß√£o da extens√£o e permiss√µes.
* content.js: Script principal executado na p√°gina (L√≥gica de an√°lise e manipula√ß√£o de DOM).
* popup.html / popup.js: Interface de utilizador (janela da extens√£o).
* projectChecklist.html: Checklist manual de IHC/Acessibilidade.
* pt_BR.js: Ficheiro de tradu√ß√£o das regras de acessibilidade.
* populateChecklist.js: L√≥gica para gerar os itens da checklist manual.